# Well-Architected Framework

## AWS アーキテクチャの基礎

### AZ の選択

- 1 つのリージョンにつき 2 つの AZ を利用してアーキテクチャを設計することが基本（3 つ以上はコスト効率が低下する）
- マルチ AZ にサーバーや DB の冗長構成を確立させることで高い可用性を実現する

### VPC

`1つのVPCでアーキテクチャを設計するのが基本となる`

#### 1 つの VPC

- 基本的に保 1 つの VPC に 1 つのシステムやアプリケーションを配置する
- 一人などの小規模で利用する場合は 2 つ以上 VPC を利用するのが面倒なケースもある

#### 2 つ以上の VPC

- システムを分けることが必要な場合や、テスト用や本番用などに分ける場合に利用する
- 2 つ以上の VPC で可用性を確保するのが適切な AWS アーキテクチャ設計となる

### マルチリージョンの活用

`別リージョンにデータベースのレプリカを配置するなどして、データアクセスを分散する`

## Well-Architected Framework①

### 6 つの設計原則

#### ①Reliability（信頼性）

`障害による中断・停止と障害復旧による影響を軽減するインフラストラクチャーを構成する`

【設計事項】

- インフラストラクチャサービスの障害復旧の自動化など軽減設計
- 復旧手順のテストによる検証
- 需要変化に応じた水平方向へのスケーラビリティによる高可用性の確保
- キャパシティの推測をやめる
- モニタリングと自動化を進める

#### ②Performance Efficiency（パフォーマンス効率）

`システム要件のリソース最適化によるインフラの効率化`

【設計事項】

- システム要件を満たすためのコンピューティングリソースを効率化する
- システム要件や AWS サービスの進化に応じて AWS インフラの効率化を推進する
  - 先端技術の一般化
  - グローバル化を即座に達成
  - サーバーレスアーキテクチャの利用
  - より頻繁な実験

#### ③Security（安全性）

`AWS内のデータ/システム/アセットの保護とモニタリングによりセキュリティを高める`

【設計事項】

- すべてのレイヤーにおいてセキュリティを適用
- アクセス追跡・モニタリングの確実な実施
- 条件ドリブンのアラートをトリガーとしてセキュリティイベントへの応答を自動化
- AWS 責任共有モデルに基づく対称範囲の保護に集中する
- セキュリティのベストプラクティスの自動化
  - ソフトウェアベースのセキュリティ設定を使用し、迅速でコスト効率の良いスケーリングを安全に実行する
  - 仮想サーバーのカスタムベースラインイメージによる新サーバーへの適用自動化
  - インフラストラクチャ全体のテンプレ化による管理

#### ④Cost Optimization（コスト最適化）

`不必要なリソースの削除や最適な料金選択によりコストを削減`

【設計事項】

- 不必要なリソース削減
- 透明性のある費用賦課
- マネージド型サービスの利用によるコスト削減
- 固定の償却コストを変動コストへと変換
- スケールによるコストメリット
- データセンターへの投資不必要

#### ⑤Operational Excellence（運用上の優秀性）

`運用上の優秀性とは計画変更が起こった場合や予期せぬイベントの発生時において、自動化された運用実務及び文書化されテストされレビューされた手順があること`

【設計事項】

- コードに基づく運用実施
- ビジネス目的に沿った運用手順
- 定期的かつ小規模で増加的な変更実施
- 予期せぬイベントへの応答テスト
- 運用イベントと障害からの学習
- 運用手順を最新のものに保持すること

#### ⑥Sustainability（持続可能性）

**サステイナビリティの目標**

AWS はクラウドのサステイナビリティの推進によって、インフラに関連するエネルギー使用率を 80%削減する。

`AWS側の主な対応`

- サーバー使用率
- 電力と冷却の効率
- カスタムデータセンターの設計
- 2025 年までに 100%再生可能エネルギーで AWS を運用

ユーザー側はクラウドを利用した効率的なアプリケーション設計やサービス選択を実施する。

`ユーザー側の主な対応`

- 効率的なストレージ技術の使用
- コード効率化
- 効率的なインフラのデプロイとスケーリング
- 効率的なアプリケーションデザイン
- データの効率的なデザイン活用

**サステイナビリティの設計原則**

ユーザーは次の設計原則を意識してサステイナビリティを推進

- 影響を把握する
- サステイナビリティ目標の設定
- 使用率の最大化
- より効率的な新しいハードウェアとソフトウェアの提供を予測して採用する
- マネージドサービスの使用
- クラウドワークロードのダウンストリームの影響を軽減

**サステイナビリティのベストプラクティス**

- ユーザの所在地に合わせて、ワークロードの地理的配置を最適化
- 時間やリソースを最も多く消費するコード領域を最適化
- ユーザーのデバイスや機器への影響を最適化
- データ分類ポリシーを実装
- ライフサイクルポリシーを使用して不要なデータを削除
- ネットワーク間でのデータ移動を最小化
- GPU の使用を最適化
- 潜在的なサステイナビリティの改善を迅速に導入できる開発方法とテスト方法を採用
- ビルド環境の使用率を向上
